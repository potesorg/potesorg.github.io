{{- $js := "" -}}
{{- range site.Params.assets.js -}}
  {{- $customJS := resources.Get . -}}
  {{- if $customJS -}}
    {{- if eq $js "" -}}
      {{- $js = $customJS -}}
    {{- else -}}
      {{- $js = slice $js $customJS | resources.Concat (printf "%s.tmp_custom.js" .) -}}
    {{- end -}}
  {{- end -}}
{{- end -}}

{{- if ne $js "" -}}
  {{- $coreJS := slice $js ("" | resources.FromString "js/_core.js") | resources.Concat "js/core.js" -}}
  {{- $coreJS = $coreJS | resources.Minify | resources.Fingerprint "sha384" -}}
  <script src="{{- $coreJS.RelPermalink -}}" integrity="{{- $coreJS.Data.Integrity -}}"></script>
{{- end -}}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
   $( document ).ready(function() {
    console.log( "ready!" );
  });
  </script>

{{- partial "js.html" . -}}